{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"VanillaJSShop.77de5100.map","sourceRoot":"..","sourcesContent":["const cartMenuWrapper = document.querySelector('.shop-cart');\r\nconst cartMenuBtn = document.querySelector('.cart-button');\r\nconst cartMenu = document.querySelector('.shop-cart__container');\r\nconst closeBtn = document.querySelector('.close');\r\nconst productsDom = document.querySelector('.products__container')\r\n\r\n\r\n\r\ncartMenuBtn.addEventListener('click', () => {\r\n    cartMenuWrapper.style.display = 'flex';\r\n    cartMenu.style.transform = \"translateX(0%)\"\r\n    document.body.style.overflow = \"hidden\";\r\n})\r\n\r\ncloseBtn.addEventListener('click', () => {\r\n    cartMenuWrapper.style.display = 'none';\r\n    cartMenu.style.transform = \"translateX(101%)\"\r\n    document.body.style.overflowY = \"scroll\";\r\n})\r\n\r\n\r\nlet cart = [];\r\n\r\nclass Products {\r\n\r\n    async getProducts() {\r\n        try {\r\n            let result = await require('./products.json');\r\n            let data = result.items;\r\n            data = data.map(item => {\r\n                const {\r\n                    title,\r\n                    price\r\n                } = item.fields;\r\n                const {\r\n                    id\r\n                } = item.sys;\r\n                const image = item.fields.image.fields.file.url;\r\n                return {\r\n                    title,\r\n                    price,\r\n                    id,\r\n                    image\r\n                };\r\n            })\r\n            return data;\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n    }\r\n}\r\nclass UI {\r\n\r\n    showProducts(data) {\r\n        let resultItem = \" \";\r\n\r\n        data.forEach(item => {\r\n            resultItem += `\r\n        <article class=\"products__item\">\r\n            <div class=\"products__image\">\r\n                <img src=${item.image} alt=\"products-image\">\r\n                <i class=\"fa fa-shopping-cart fa-lg\" id=\"buy-btn\"  data-id=${item.id} aria-hidden=\"true\"> Add to cart</i>\r\n            </div>\r\n            <div class=\"products__title\">\r\n                <h2>${item.title}</h2>\r\n            </div>\r\n            <div class=\"products__price\">\r\n                ${item.price}\r\n            </div>\r\n        </article>\r\n        `;\r\n\r\n        })\r\n        productsDom.innerHTML = resultItem;\r\n    }\r\n    getButtons() {\r\n        const buttonsBuy = [...document.querySelectorAll(\"#buy-btn\")]\r\n        \r\n        buttonsBuy.forEach(button => {\r\n            let id = button.dataset.id;\r\n            let inCart = cart.find(item => item.id === id);\r\n            if(inCart) {\r\n                button.innerHTML = \" In cart\"\r\n                button.disabled = true;\r\n            }\r\n                button.addEventListener('click', (e)=> {\r\n                    e.target.disabled = true;\r\n                    button.innerHTML = \" In cart\"\r\n\r\n                    let cartItem = { ...Storage.getFromStorage(id), amount: 1 };\r\n                    cart = [...cart, cartItem];\r\n                    console.log(cart);\r\n                })\r\n                \r\n           \r\n        })\r\n\r\n    }\r\n}\r\nclass Storage {\r\n\r\n    static saveToStorage(data) {\r\n        localStorage.setItem(\"products\", JSON.stringify(data))\r\n    }\r\n    static getFromStorage(id) {\r\n        let product = JSON.parse(localStorage.getItem(\"products\"));\r\n        return product.find(item => item.id === id)\r\n    }\r\n}\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n    let products = new Products;\r\n    let layout = new UI;\r\n    products.getProducts().then(product => {\r\n        layout.showProducts(product)\r\n        Storage.saveToStorage(product);\r\n    })\r\n    .then(() => {\r\n        layout.getButtons();\r\n    })\r\n\r\n})"]}