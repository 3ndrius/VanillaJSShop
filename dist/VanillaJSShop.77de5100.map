{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"VanillaJSShop.77de5100.map","sourceRoot":"..","sourcesContent":["const cartMenuWrapper = document.querySelector('.shop-cart');\r\nconst cartMenuBtn = document.querySelector('.cart-button');\r\nconst cartMenu = document.querySelector('.shop-cart__container');\r\nconst closeBtn = document.querySelector('.close');\r\nconst productsDom = document.querySelector('.products__container')\r\nconst headerTotal = document.querySelector('.header-count');\r\nconst totalPrice = document.querySelector('.total-price');\r\n\r\nconst menuCartList = document.querySelector('.shop-cart__list');\r\n\r\n\r\ncartMenuBtn.addEventListener('click', () => {\r\n    cartMenuWrapper.style.display = 'flex';\r\n    cartMenu.style.transform = \"translateX(0%)\"\r\n    document.body.style.overflow = \"hidden\";\r\n})\r\n\r\ncloseBtn.addEventListener('click', () => {\r\n    cartMenuWrapper.style.display = 'none';\r\n    cartMenu.style.transform = \"translateX(101%)\"\r\n    document.body.style.overflowY = \"scroll\";\r\n})\r\n\r\n\r\nlet cart = [];\r\n\r\nclass Products {\r\n\r\n    async getProducts() {\r\n        try {\r\n            let result = await require('./products.json');\r\n            let data = result.items;\r\n            data = data.map(item => {\r\n                const {\r\n                    title,\r\n                    price\r\n                } = item.fields;\r\n                const {\r\n                    id\r\n                } = item.sys;\r\n                const image = item.fields.image.fields.file.url;\r\n                return {\r\n                    title,\r\n                    price,\r\n                    id,\r\n                    image\r\n                };\r\n            })\r\n            return data;\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n    }\r\n}\r\nclass UI {\r\n\r\n    showProducts(data) {\r\n        let resultItem = \" \";\r\n\r\n        data.forEach(item => {\r\n            resultItem += `\r\n        <article class=\"products__item\">\r\n            <div class=\"products__image\">\r\n                <img src=${item.image} alt=\"products-image\">\r\n                <button class=\"buy-btn\" data-id=${item.id}> Add to cart</button>\r\n            </div>\r\n            <div class=\"products__title\">\r\n                <h2>${item.title}</h2>\r\n            </div>\r\n            <div class=\"products__price\">\r\n                ${item.price}\r\n            </div>\r\n        </article>\r\n        `;\r\n\r\n        })\r\n        productsDom.innerHTML = resultItem;\r\n    }\r\n    getButtons() {\r\n        const buttonsBuy = [...document.querySelectorAll(\".buy-btn\")]\r\n        \r\n        buttonsBuy.forEach(button => {\r\n            let id = button.dataset.id;\r\n            let inCart = cart.find(item => item.id === id);\r\n            if(inCart) {\r\n                button.innerHTML = \" In cart\"\r\n                button.disabled = true;\r\n            }\r\n                button.addEventListener('click', (e)=> {\r\n                    e.target.disabled = true;\r\n                    e.target.innerHTML = \" In cart\"\r\n                    console.log(e.target);\r\n                    let cartItem = { ...Storage.getFromStorage(id), amount: 1 };\r\n                    cart = [...cart, cartItem];\r\n            \r\n                    console.log(cart);\r\n                    Storage.saveCart(cart);\r\n\r\n                    this.setCartTotal(cart)\r\n            \r\n                    this.addToCart(cartItem);\r\n\r\n                })\r\n                \r\n           \r\n        })\r\n\r\n    }\r\n    setCartTotal(cart) {\r\n        let tempTotal = 0;\r\n        let itemsTotal = 0;\r\n        cart.map(item => {\r\n            tempTotal += item.price * item.amount;\r\n            itemsTotal += item.amount;\r\n        })\r\n        totalPrice.innerText = parseFloat(tempTotal.toFixed(2));\r\n        headerTotal.innerText = itemsTotal;\r\n    }\r\n    addToCart(item) {\r\n        let listItem = document.createElement('li');\r\n         listItem.innerHTML = `\r\n        <img src=${item.image} alt=\"small-img\">\r\n        <div class=\"wrap\">\r\n            <h4>${item.title}</h4>\r\n            <h5>$${item.price}</h5>\r\n            <p>remove</p>\r\n        </div>\r\n        <div class=\"count\">\r\n            <i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i>\r\n            <p>${item.amount}</p>\r\n            <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\r\n        </div>\r\n        ` \r\n        menuCartList.appendChild(listItem);\r\n    }\r\n    setupApp() {\r\n        cart = Storage.getCart();\r\n        this.setCartTotal(cart);\r\n        this.populateCart(cart);\r\n    }\r\n    populateCart(cart){\r\n        cart.forEach(item => this.addToCart(item));\r\n    }\r\n  \r\n}\r\nclass Storage {\r\n\r\n    static saveToStorage(data) {\r\n        localStorage.setItem(\"products\", JSON.stringify(data))\r\n    }\r\n    static getFromStorage(id) {\r\n        let product = JSON.parse(localStorage.getItem(\"products\"));\r\n        return product.find(item => item.id === id)\r\n    }\r\n    static saveCart(cart){\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n        console.log(\"save\");\r\n    }\r\n    static getCart() {\r\n      return localStorage.getItem('cart') ? \r\n      JSON.parse(localStorage.getItem('cart')) : []\r\n    }\r\n}\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    \r\n    let products = new Products;\r\n    let layout = new UI;\r\n    layout.setupApp();\r\n    products.getProducts().then(product => {\r\n        layout.showProducts(product)\r\n        Storage.saveToStorage(product);\r\n    })\r\n    .then(() => {\r\n        layout.getButtons();\r\n    })\r\n\r\n})"]}